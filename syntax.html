<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
	<title>lemoncase2 教程</title>
	<link rel="stylesheet" href="/style.css">
</head>
<body>
	<section class="minh-100">
		<nav class="navbar navbar-light bg-faded">
			<div class="container">
				<a href="/" class="navbar-brand">lc2</a>
				<div class="nav navbar-nav">
					<a href="/syntax" class="nav-link">语法说明</a>
				</div>
			</div>
		</nav>
		<div class="jumbotron bg-primary">
			<div class="container">
				<h1 class="text-white">lemoncase2 教程</h1>
			</div>
		</div>
		
		
			<section class="container-sm mx-auto">
				<h1 id="lemoncase2">Lemoncase2</h1>
<p>用来描述测试用例的语言</p>
<h1 id="-">语法</h1>
<p>所有的语句必须以分号 ; 结尾<br>例：<br><code>click &#39;here&#39;;</code></p>
<h2 id="-stable">变量 - stable</h2>
<p>类似于 python ：  </p>
<pre><code class="lang-Python"><div class="sublemon-wrap"><div class="sublemon-wrap-inner"><div class="sublemon-gutter"><div class="sublemon-line-number">1</div><div class="sublemon-line-number">2</div></div><div class="sublemon-code"><div class="sublemon-view-line"><span class="sublemon-name">a</span> <span class="sublemon-operator">=</span> <span class="sublemon-number">1</span><span class="sublemon-operator">;</span>&#8203;</div><div class="sublemon-view-line">&#8203;<span class="sublemon-name">a</span> <span class="sublemon-operator">=</span> <span class="sublemon-keyword">true</span><span class="sublemon-operator">;</span></div></div></div></div>
</code></pre>
<h2 id="-">类型</h2>
<p><strong>Lemoncase2 有以下数据类型</strong></p>
<ul>
<li>数值 (e.g., 0.12, 1e-3)</li>
<li>字符 (e.g., &#39;you&#39;, &quot;me&quot;)</li>
<li>布尔 (true/false)</li>
<li>正则 (/abs/i)</li>
</ul>
<h2 id="-">宏指令</h2>
<p>宏指令定义了测试用例运行的参数。</p>
<h3 id="-times-times-number-1-stable">#TIMES [times:number|1] - stable</h3>
<pre><code class="lang-C"><div class="sublemon-wrap"><div class="sublemon-wrap-inner"><div class="sublemon-gutter"><div class="sublemon-line-number">1</div><div class="sublemon-line-number">2</div></div><div class="sublemon-code"><div class="sublemon-view-line"><span class="sublemon-line-comment">// 用例会运行 10 次。</span>&#8203;</div><div class="sublemon-view-line">&#8203;<span class="sublemon-macro">#TIMES 10</span></div></div></div></div>
</code></pre>
<h3 id="-interval-interval-number-3000-stable">#INTERVAL [interval:number|3000] - stable</h3>
<pre><code class="lang-C"><div class="sublemon-wrap"><div class="sublemon-wrap-inner"><div class="sublemon-gutter"><div class="sublemon-line-number">1</div><div class="sublemon-line-number">2</div></div><div class="sublemon-code"><div class="sublemon-view-line"><span class="sublemon-line-comment">// 用例执行的间隔是 1000 毫秒。</span>&#8203;</div><div class="sublemon-view-line">&#8203;<span class="sublemon-macro">#INTERVAL 1000</span></div></div></div></div>
</code></pre>
<h3 id="-screen-width-number-height-number-beta">#SCREEN [width:number],[height:number] - beta</h3>
<pre><code class="lang-C"><div class="sublemon-wrap"><div class="sublemon-wrap-inner"><div class="sublemon-gutter"><div class="sublemon-line-number">1</div><div class="sublemon-line-number">2</div></div><div class="sublemon-code"><div class="sublemon-view-line"><span class="sublemon-line-comment">// 将待测页面的宽度设为 800px 高度设为 height 600px。</span>&#8203;</div><div class="sublemon-view-line">&#8203;<span class="sublemon-macro">#SCREEN 800,600</span></div></div></div></div>
</code></pre>
<h3 id="-autowait-beta">#AUTOWAIT - beta</h3>
<pre><code class="lang-C"><div class="sublemon-wrap"><div class="sublemon-wrap-inner"><div class="sublemon-gutter"><div class="sublemon-line-number">1</div><div class="sublemon-line-number">2</div></div><div class="sublemon-code"><div class="sublemon-view-line"><span class="sublemon-line-comment">// 自动等待</span>&#8203;</div><div class="sublemon-view-line">&#8203;<span class="sublemon-macro">#AUTOSCROLL</span></div></div></div></div>
</code></pre>
<h3 id="-limit-time-number-stable">#LIMIT [time:number] - stable</h3>
<pre><code class="lang-C"><div class="sublemon-wrap"><div class="sublemon-wrap-inner"><div class="sublemon-gutter"><div class="sublemon-line-number">1</div><div class="sublemon-line-number">2</div></div><div class="sublemon-code"><div class="sublemon-view-line"><span class="sublemon-line-comment">// 时间限制</span>&#8203;</div><div class="sublemon-view-line">&#8203;<span class="sublemon-macro">#LIMIT 50</span></div></div></div></div>
</code></pre>
<h2 id="-">指令</h2>
<h3 id="assert-exp-in-overtime-number-stable">assert [exp][ in [overtime:number]] - stable</h3>
<p>断言当前的表达式[时间限制]。</p>
<h3 id="verify-exp-in-overtime-number-beta">verify [exp][ in [overtime:number]] - beta</h3>
<p>检测当前的表达式[时间限制]。和 assert 不一样的地方在于，即使失败，用例也会继续执行。</p>
<h3 id="wait-time-number-stable">wait [time:number] - stable</h3>
<p>等待一定时间。</p>
<h3 id="log-exp-stable">log [exp] - stable</h3>
<p>在控制台中输出表达式的结果。</p>
<h3 id="jumpto-exp-stable">jumpto [exp] - stable</h3>
<p>跳转到一个链接。</p>
<h3 id="refresh-beta">refresh - beta</h3>
<p>刷新当前页面。</p>
<h3 id="process-identifier-statements-locked">process [identifier] { [statements] } - locked</h3>
<p>定义一个过程 / 函数。</p>
<h3 id="-action-selector-string-by-to-params-params1-params2-">[action] [selector:string] by/to [params|params1,params2]</h3>
<p>模拟用户操作的指令。</p>
<blockquote>
<p>动作指令关键字</p>
</blockquote>
<h3 id="input-stable">input - stable</h3>
<p>输入文字到 input 元素 <code>&lt;input type=&quot;text&quot; /&gt;</code> 或 <code>&lt;textarea&gt;</code>.</p>
<pre><code class="lang-C"><div class="sublemon-wrap"><div class="sublemon-wrap-inner"><div class="sublemon-gutter"><div class="sublemon-line-number">1</div><div class="sublemon-line-number">2</div></div><div class="sublemon-code"><div class="sublemon-view-line"><span class="sublemon-line-comment">// &lt;input id="link" class="case" /&gt;</span>&#8203;</div><div class="sublemon-view-line">&#8203;<span class="sublemon-name">input</span> <span class="sublemon-string">'div#link.case'</span> <span class="sublemon-name">by</span> <span class="sublemon-string">"hello world."</span><span class="sublemon-operator">;</span></div></div></div></div>
</code></pre>
<h3 id="click-stable">click - stable</h3>
<p>鼠标左键单击一个元素.</p>
<pre><code class="lang-C"><div class="sublemon-wrap"><div class="sublemon-wrap-inner"><div class="sublemon-gutter"><div class="sublemon-line-number">1</div><div class="sublemon-line-number">2</div><div class="sublemon-line-number">3</div><div class="sublemon-line-number">4</div><div class="sublemon-line-number">5</div></div><div class="sublemon-code"><div class="sublemon-view-line"><span class="sublemon-line-comment">// &lt;a href="..."&gt;Text&lt;/a&gt;</span>&#8203;</div><div class="sublemon-view-line">&#8203;<span class="sublemon-name">click</span> <span class="sublemon-string">'a'</span><span class="sublemon-operator">;</span>&#8203;</div><div class="sublemon-view-line">&#8203;</div><div class="sublemon-view-line">&#8203;<span class="sublemon-line-comment">// &lt;a id="link" href="..."&gt;Text&lt;/a&gt;</span>&#8203;</div><div class="sublemon-view-line">&#8203;<span class="sublemon-name">click</span> <span class="sublemon-string">'a#link'</span><span class="sublemon-operator">;</span></div></div></div></div>
</code></pre>
<h3 id="dblclick-stable">dblclick - stable</h3>
<p>鼠标双击一个元素.</p>
<pre><code class="lang-C"><div class="sublemon-wrap"><div class="sublemon-wrap-inner"><div class="sublemon-gutter"><div class="sublemon-line-number">1</div><div class="sublemon-line-number">2</div></div><div class="sublemon-code"><div class="sublemon-view-line"><span class="sublemon-line-comment">// &lt;div id="link" class="case"&gt;Text&lt;/div&gt;</span>&#8203;</div><div class="sublemon-view-line">&#8203;<span class="sublemon-name">dblclick</span> <span class="sublemon-string">'div#link.case'</span><span class="sublemon-operator">;</span></div></div></div></div>
</code></pre>
<h3 id="rclick-stable">rclick - stable</h3>
<p>鼠标右键单击一个元素.</p>
<pre><code class="lang-C"><div class="sublemon-wrap"><div class="sublemon-wrap-inner"><div class="sublemon-gutter"><div class="sublemon-line-number">1</div><div class="sublemon-line-number">2</div></div><div class="sublemon-code"><div class="sublemon-view-line"><span class="sublemon-line-comment">// &lt;div id="link" class="case"&gt;Text&lt;/div&gt;</span>&#8203;</div><div class="sublemon-view-line">&#8203;<span class="sublemon-name">rclick</span> <span class="sublemon-string">'div#link.case'</span><span class="sublemon-operator">;</span></div></div></div></div>
</code></pre>
<h3 id="select-selector-string-by-value-string-index-number-stable">select [selector:string] by [value:string|index:number] - stable</h3>
<p>从选择列表下拉中选中 &lt;option&gt; 目标是 &lt;select&gt; 元素。参数可以是： value|index.
<em>(仅能使用在 &lt;select&gt; 元素上)</em></p>
<pre><code class="lang-C"><div class="sublemon-wrap"><div class="sublemon-wrap-inner"><div class="sublemon-gutter"><div class="sublemon-line-number">1</div><div class="sublemon-line-number">2</div><div class="sublemon-line-number">3</div><div class="sublemon-line-number">4</div><div class="sublemon-line-number">5</div><div class="sublemon-line-number">6</div><div class="sublemon-line-number">7</div><div class="sublemon-line-number">8</div><div class="sublemon-line-number">9</div><div class="sublemon-line-number">10</div><div class="sublemon-line-number">11</div></div><div class="sublemon-code"><div class="sublemon-view-line"><span class="sublemon-line-comment">// &lt;select&gt;</span>&#8203;</div><div class="sublemon-view-line">&#8203;<span class="sublemon-line-comment">//   &lt;option value="a"&gt;&lt;/option&gt; // index:0</span>&#8203;</div><div class="sublemon-view-line">&#8203;<span class="sublemon-line-comment">//   &lt;option value="b"&gt;&lt;/option&gt; // index:1 &lt;-- 这个会被选中</span>&#8203;</div><div class="sublemon-view-line">&#8203;<span class="sublemon-line-comment">//   &lt;option value="c"&gt;&lt;/option&gt; // index:2</span>&#8203;</div><div class="sublemon-view-line">&#8203;<span class="sublemon-line-comment">// &lt;/select&gt;</span>&#8203;</div><div class="sublemon-view-line">&#8203;</div><div class="sublemon-view-line">&#8203;<span class="sublemon-name">select</span> <span class="sublemon-string">"select"</span> <span class="sublemon-name">by</span> <span class="sublemon-number">1</span><span class="sublemon-operator">;</span>&#8203;</div><div class="sublemon-view-line">&#8203;</div><div class="sublemon-view-line">&#8203;<span class="sublemon-line-comment">// 或</span>&#8203;</div><div class="sublemon-view-line">&#8203;</div><div class="sublemon-view-line">&#8203;<span class="sublemon-name">select</span> <span class="sublemon-string">"select"</span> <span class="sublemon-name">by</span> <span class="sublemon-string">"b"</span><span class="sublemon-operator">;</span></div></div></div></div>
</code></pre>
<h3 id="movein-beta">movein - beta</h3>
<p>鼠标经过一个HTML元素.</p>
<h3 id="moveout-beta">moveout - beta</h3>
<p>鼠标移出一个HTML元素.</p>
<h3 id="scroll-beta">scroll - beta</h3>
<p>滚动到页面上的一个位置.</p>
<p>目前版本不支持对 <code>&lt;iframe&gt;</code> 元素派发事件, 所以如果待测页面正在使用如 JEECG 等“企业级”应用时，很多指令不会正常触发.</p>
<p>执行动作指令时，如果发生任何异常，例如无法找到目标元素，用例执行会终止并在控制台中报错.  </p>
<h3 id="check-deprecated">check - deprecated</h3>
<p>选中一个单选框。</p>
<h3 id="uncheck-deprecated">uncheck - deprecated</h3>
<p>取消选中一个单选框。</p>
<h2 id="-stable">表达式 - stable</h2>
<blockquote>
<p>表达式和任何c系列的语言是完全一样的</p>
</blockquote>
<p>例：</p>
<pre><code class="lang-C"><div class="sublemon-wrap"><div class="sublemon-wrap-inner"><div class="sublemon-gutter"><div class="sublemon-line-number">1</div><div class="sublemon-line-number">2</div></div><div class="sublemon-code"><div class="sublemon-view-line"><span class="sublemon-number">1</span> <span class="sublemon-operator">+</span> <span class="sublemon-number">2</span> <span class="sublemon-operator">*</span> <span class="sublemon-number">3</span><span class="sublemon-operator">;</span>&#8203;</div><div class="sublemon-view-line">&#8203;<span class="sublemon-string">'Hello'</span> <span class="sublemon-operator">+</span> <span class="sublemon-string">', world!'</span><span class="sublemon-operator">;</span></div></div></div></div>
</code></pre>
<h3 id="-css-stable">扩展 css 选择器 - stable</h3>
<p>Lemoncase2 默认支持 css 选择器，你可以使用：</p>
<ul>
<li>原生 DOM API 中的 querySelectorAll.</li>
<li>jQuery Sizzle ^2.3.0.<ul>
<li><em>你可以使用如 :contain(). 等原生 API 里面没有的选择器</em></li>
</ul>
</li>
<li>iframe 选择器 <code>&lt;</code> 来选中 <code>&lt;iframe&gt;</code> 中的元素*</li>
</ul>
<pre><code class="lang-html"><div class="sublemon-wrap"><div class="sublemon-wrap-inner"><div class="sublemon-gutter"><div class="sublemon-line-number">1</div><div class="sublemon-line-number">2</div><div class="sublemon-line-number">3</div><div class="sublemon-line-number">4</div><div class="sublemon-line-number">5</div><div class="sublemon-line-number">6</div><div class="sublemon-line-number">7</div><div class="sublemon-line-number">8</div><div class="sublemon-line-number">9</div><div class="sublemon-line-number">10</div><div class="sublemon-line-number">11</div><div class="sublemon-line-number">12</div><div class="sublemon-line-number">13</div><div class="sublemon-line-number">14</div><div class="sublemon-line-number">15</div><div class="sublemon-line-number">16</div><div class="sublemon-line-number">17</div></div><div class="sublemon-code"><div class="sublemon-view-line"><span class="sublemon-line-comment">&lt;!-- From top frame --&gt;</span>&#8203;</div><div class="sublemon-view-line">&#8203;<span class="sublemon-operator">&lt;</span><span class="sublemon-name">iframe</span> <span class="sublemon-name">id</span><span class="sublemon-operator">=</span><span class="sublemon-string">"top"</span><span class="sublemon-operator">&gt;</span>&#8203;</div><div class="sublemon-view-line">    <span class="sublemon-macro">#document</span>&#8203;</div><div class="sublemon-view-line">    <span class="sublemon-operator">&lt;</span><span class="sublemon-name">html</span><span class="sublemon-operator">&gt;</span>&#8203;</div><div class="sublemon-view-line">        <span class="sublemon-operator">&lt;</span><span class="sublemon-name">body</span><span class="sublemon-operator">&gt;</span>&#8203;</div><div class="sublemon-view-line">            <span class="sublemon-operator">&lt;</span><span class="sublemon-name">iframe</span> <span class="sublemon-name">id</span><span class="sublemon-operator">=</span><span class="sublemon-string">"project"</span><span class="sublemon-operator">&gt;</span>&#8203;</div><div class="sublemon-view-line">                <span class="sublemon-macro">#document</span>&#8203;</div><div class="sublemon-view-line">                <span class="sublemon-operator">&lt;</span><span class="sublemon-name">html</span><span class="sublemon-operator">&gt;</span>&#8203;</div><div class="sublemon-view-line">                    <span class="sublemon-operator">&lt;</span><span class="sublemon-name">body</span><span class="sublemon-operator">&gt;</span>&#8203;</div><div class="sublemon-view-line">                        <span class="sublemon-operator">&lt;</span><span class="sublemon-name">a</span> <span class="sublemon-name">href</span><span class="sublemon-operator">=</span><span class="sublemon-string">"./"</span><span class="sublemon-operator">&gt;</span><span class="sublemon-name">link</span><span class="sublemon-operator">&lt;/</span><span class="sublemon-name">a</span><span class="sublemon-operator">&gt;</span> <span class="sublemon-line-comment">&lt;!-- select it. --&gt;</span>&#8203;</div><div class="sublemon-view-line">                        <span class="sublemon-operator">&lt;</span><span class="sublemon-name">b</span><span class="sublemon-operator">&gt;</span><span class="sublemon-name">link</span><span class="sublemon-operator">&lt;/</span><span class="sublemon-name">b</span><span class="sublemon-operator">&gt;</span>&#8203;</div><div class="sublemon-view-line">                    <span class="sublemon-operator">&lt;/</span><span class="sublemon-name">body</span><span class="sublemon-operator">&gt;</span>&#8203;</div><div class="sublemon-view-line">                <span class="sublemon-operator">&lt;/</span><span class="sublemon-name">html</span><span class="sublemon-operator">&gt;</span>&#8203;</div><div class="sublemon-view-line">            <span class="sublemon-operator">&lt;/</span><span class="sublemon-name">iframe</span><span class="sublemon-operator">&gt;</span>&#8203;</div><div class="sublemon-view-line">        <span class="sublemon-operator">&lt;/</span><span class="sublemon-name">body</span><span class="sublemon-operator">&gt;</span>&#8203;</div><div class="sublemon-view-line">    <span class="sublemon-operator">&lt;/</span><span class="sublemon-name">html</span><span class="sublemon-operator">&gt;</span>&#8203;</div><div class="sublemon-view-line">&#8203;<span class="sublemon-operator">&lt;/</span><span class="sublemon-name">iframe</span><span class="sublemon-operator">&gt;</span></div></div></div></div>
</code></pre>
<ul>
<li><code>iframe &lt; iframe &lt; a</code></li>
<li><code>* &lt; * &lt; a</code></li>
<li><code>#top &lt; #project &lt; a</code></li>
<li><code>* &lt; #project &lt; a:contain(link)</code></li>
</ul>
<h3 id="-beta">选择器操作符 - beta</h3>
<p><code>&lt;# [selector:string] /&gt;</code></p>
<pre><code class="lang-C"><div class="sublemon-wrap"><div class="sublemon-wrap-inner"><div class="sublemon-gutter"><div class="sublemon-line-number">1</div><div class="sublemon-line-number">2</div><div class="sublemon-line-number">3</div><div class="sublemon-line-number">4</div><div class="sublemon-line-number">5</div><div class="sublemon-line-number">6</div></div><div class="sublemon-code"><div class="sublemon-view-line"><span class="sublemon-line-comment">// 返回符合选择器的元素的数量.</span>&#8203;</div><div class="sublemon-view-line">&#8203;<span class="sublemon-line-comment">// &lt;div id="link" class="case"&gt;Text&lt;/div&gt;</span>&#8203;</div><div class="sublemon-view-line">&#8203;</div><div class="sublemon-view-line">&#8203;<span class="sublemon-name">log</span> <span class="sublemon-operator">&lt;#</span> <span class="sublemon-string">'div'</span><span class="sublemon-operator">/&gt;</span><span class="sublemon-operator">;</span> <span class="sublemon-line-comment">// Output 1</span>&#8203;</div><div class="sublemon-view-line">&#8203;<span class="sublemon-name">log</span> <span class="sublemon-operator">&lt;#</span> <span class="sublemon-string">'#link'</span><span class="sublemon-operator">/&gt;</span><span class="sublemon-operator">;</span> <span class="sublemon-line-comment">// Output 1</span>&#8203;</div><div class="sublemon-view-line">&#8203;<span class="sublemon-name">log</span> <span class="sublemon-operator">&lt;#</span> <span class="sublemon-string">'#no'</span><span class="sublemon-operator">/&gt;</span><span class="sublemon-operator">;</span> <span class="sublemon-line-comment">// Output 0</span></div></div></div></div>
</code></pre>
<p><code>&lt;@ [selector:string] /&gt;</code></p>
<pre><code class="lang-C"><div class="sublemon-wrap"><div class="sublemon-wrap-inner"><div class="sublemon-gutter"><div class="sublemon-line-number">1</div><div class="sublemon-line-number">2</div><div class="sublemon-line-number">3</div><div class="sublemon-line-number">4</div><div class="sublemon-line-number">5</div><div class="sublemon-line-number">6</div><div class="sublemon-line-number">7</div><div class="sublemon-line-number">8</div></div><div class="sublemon-code"><div class="sublemon-view-line"><span class="sublemon-line-comment">// 获取一个符合选择器的 HTML 元素的内容.</span>&#8203;</div><div class="sublemon-view-line">&#8203;<span class="sublemon-line-comment">// 返回字符串或 `false` ，如果没有匹配到任何元素.</span>&#8203;</div><div class="sublemon-view-line">&#8203;</div><div class="sublemon-view-line">&#8203;<span class="sublemon-line-comment">// &lt;div id="link" class="case"&gt;Text&lt;/div&gt;</span>&#8203;</div><div class="sublemon-view-line">&#8203;</div><div class="sublemon-view-line">&#8203;<span class="sublemon-name">log</span> <span class="sublemon-operator">&lt;@</span> <span class="sublemon-string">'div'</span><span class="sublemon-operator">/&gt;</span><span class="sublemon-operator">;</span> <span class="sublemon-line-comment">// 输出 Text</span>&#8203;</div><div class="sublemon-view-line">&#8203;<span class="sublemon-name">log</span> <span class="sublemon-operator">&lt;@</span> <span class="sublemon-string">'#link'</span><span class="sublemon-operator">/&gt;</span><span class="sublemon-operator">;</span> <span class="sublemon-line-comment">// 输出 Text</span>&#8203;</div><div class="sublemon-view-line">&#8203;<span class="sublemon-name">log</span> <span class="sublemon-operator">&lt;@</span> <span class="sublemon-string">'#no'</span><span class="sublemon-operator">/&gt;</span><span class="sublemon-operator">;</span> <span class="sublemon-line-comment">// 输出 false</span></div></div></div></div>
</code></pre>
<p><code>&lt;! [selector:string] /&gt;</code></p>
<pre><code class="lang-C"><div class="sublemon-wrap"><div class="sublemon-wrap-inner"><div class="sublemon-gutter"><div class="sublemon-line-number">1</div><div class="sublemon-line-number">2</div><div class="sublemon-line-number">3</div><div class="sublemon-line-number">4</div><div class="sublemon-line-number">5</div><div class="sublemon-line-number">6</div><div class="sublemon-line-number">7</div><div class="sublemon-line-number">8</div><div class="sublemon-line-number">9</div><div class="sublemon-line-number">10</div></div><div class="sublemon-code"><div class="sublemon-view-line"><span class="sublemon-line-comment">// 检查元素是否可见.</span>&#8203;</div><div class="sublemon-view-line">&#8203;<span class="sublemon-line-comment">// 返回 `true` 如果元素存在并且可见.</span>&#8203;</div><div class="sublemon-view-line">&#8203;<span class="sublemon-line-comment">// 否则返回 `false`</span>&#8203;</div><div class="sublemon-view-line">&#8203;</div><div class="sublemon-view-line">&#8203;<span class="sublemon-line-comment">// &lt;div id="link" class="case"&gt;Text&lt;/div&gt;</span>&#8203;</div><div class="sublemon-view-line">&#8203;<span class="sublemon-line-comment">// &lt;div id="link2" style="display:none"&gt;Text&lt;/div&gt;</span>&#8203;</div><div class="sublemon-view-line">&#8203;</div><div class="sublemon-view-line">&#8203;<span class="sublemon-name">log</span> <span class="sublemon-operator">&lt;@</span> <span class="sublemon-string">'a'</span><span class="sublemon-operator">/&gt;</span><span class="sublemon-operator">;</span> <span class="sublemon-line-comment">// 返回 false</span>&#8203;</div><div class="sublemon-view-line">&#8203;<span class="sublemon-name">log</span> <span class="sublemon-operator">&lt;@</span> <span class="sublemon-string">'div'</span><span class="sublemon-operator">/&gt;</span><span class="sublemon-operator">;</span> <span class="sublemon-line-comment">// 返回 true</span>&#8203;</div><div class="sublemon-view-line">&#8203;<span class="sublemon-name">log</span> <span class="sublemon-operator">&lt;@</span> <span class="sublemon-string">'#link2'</span><span class="sublemon-operator">/&gt;</span><span class="sublemon-operator">;</span> <span class="sublemon-line-comment">// 返回 false</span></div></div></div></div>
</code></pre>
<h3 id="-stable">比较操作符 - stable</h3>
<blockquote>
<p>比较操作符左右的两个表达式，并返回 true 或 false.</p>
</blockquote>
<p><code>[exp_A:string] ~~ [exp_B:string|RegExp]</code></p>
<ul>
<li>exp_B 如果不是字符串或正则，返回 false.</li>
<li>exp_A 如果不是字符串，返回 false.</li>
<li>exp_A 如果不符合正则 exp_B 则返回 false.</li>
<li>exp_A 字符串中如果包含字符串 exp_B 则返回 true.</li>
<li>exp_A 符合正则 exp_B 则返回 true.</li>
</ul>
<p><code>[exp_A:string] !~ [exp_B:string|RegExp]</code></p>
<ul>
<li>等同于 !(exp_A ~~ exp_B).</li>
</ul>
<h1 id="-beta">作用域 - beta</h1>
<ul>
<li><code>全局作用域</code> 全局的变量哪里都能访问.</li>
<li><code>过程 / 函数 作用域</code> 变量只有在过程的生命周期内有效.  </li>
</ul>
<h2 id="-beta">内置过程 - beta</h2>
<ul>
<li>number(any): number</li>
<li>bool(any): boolean</li>
<li>length(str?: string): number</li>
<li>charAt(string, index): string</li>
<li>indexOf(string, string): number</li>
<li>substr(string, index): string</li>
<li>min(num1: number, num2: number): number</li>
<li>max(num1: number, num2: number): number</li>
<li>random(seed?: regexp): string</li>
<li>abs(num: number): number</li>
<li>ceil(num: number): number</li>
<li>floor(num: number): number</li>
<li>round(num: number): number</li>
<li>format(date: Date): string</li>
<li>now(): number</li>
</ul>
<h2 id="-beta">魔法关键字 - beta</h2>
<ul>
<li>$href: 获取当前链接</li>
<li>$loop: 获取当前运行的次数</li>
</ul>
<h1 id="-">例子</h1>
<p>你要的Hello, world在这里.</p>
<h2 id="hello-world">Hello, world</h2>
<pre><code class="lang-C"><div class="sublemon-wrap"><div class="sublemon-wrap-inner"><div class="sublemon-gutter"><div class="sublemon-line-number">1</div><div class="sublemon-line-number">2</div><div class="sublemon-line-number">3</div></div><div class="sublemon-code"><div class="sublemon-view-line"><span class="sublemon-name">process</span> <span class="sublemon-name">main</span> <span class="sublemon-operator">{</span>&#8203;</div><div class="sublemon-view-line">    <span class="sublemon-name">log</span> <span class="sublemon-string">'hello world'</span><span class="sublemon-operator">;</span>&#8203;</div><div class="sublemon-view-line">&#8203;<span class="sublemon-operator">}</span></div></div></div></div>
</code></pre>
<h2 id="-">通常的用法</h2>
<p>只运行一次的用例.</p>
<pre><code class="lang-C"><div class="sublemon-wrap"><div class="sublemon-wrap-inner"><div class="sublemon-gutter"><div class="sublemon-line-number">1</div><div class="sublemon-line-number">2</div><div class="sublemon-line-number">3</div><div class="sublemon-line-number">4</div><div class="sublemon-line-number">5</div><div class="sublemon-line-number">6</div><div class="sublemon-line-number">7</div><div class="sublemon-line-number">8</div><div class="sublemon-line-number">9</div></div><div class="sublemon-code"><div class="sublemon-view-line"><span class="sublemon-macro">#TIMES 1</span>&#8203;</div><div class="sublemon-view-line">&#8203;</div><div class="sublemon-view-line">&#8203;<span class="sublemon-name">process</span> <span class="sublemon-name">main</span> <span class="sublemon-operator">{</span>&#8203;</div><div class="sublemon-view-line">    <span class="sublemon-name">jumpto</span> <span class="sublemon-string">'[URL]'</span><span class="sublemon-operator">;</span>&#8203;</div><div class="sublemon-view-line">    <span class="sublemon-name">wait</span> <span class="sublemon-number">2000</span><span class="sublemon-operator">;</span>&#8203;</div><div class="sublemon-view-line">    <span class="sublemon-operator">.</span><span class="sublemon-operator">.</span><span class="sublemon-operator">.</span>&#8203;</div><div class="sublemon-view-line">    <span class="sublemon-operator">[</span><span class="sublemon-name">statement</span><span class="sublemon-operator">]</span>&#8203;</div><div class="sublemon-view-line">    <span class="sublemon-operator">.</span><span class="sublemon-operator">.</span><span class="sublemon-operator">.</span>&#8203;</div><div class="sublemon-view-line">&#8203;<span class="sublemon-operator">}</span></div></div></div></div>
</code></pre>
<h2 id="-">测试一个用户注册页面</h2>
<pre><code class="lang-C"><div class="sublemon-wrap"><div class="sublemon-wrap-inner"><div class="sublemon-gutter"><div class="sublemon-line-number">1</div><div class="sublemon-line-number">2</div><div class="sublemon-line-number">3</div><div class="sublemon-line-number">4</div><div class="sublemon-line-number">5</div><div class="sublemon-line-number">6</div><div class="sublemon-line-number">7</div><div class="sublemon-line-number">8</div><div class="sublemon-line-number">9</div><div class="sublemon-line-number">10</div><div class="sublemon-line-number">11</div><div class="sublemon-line-number">12</div><div class="sublemon-line-number">13</div><div class="sublemon-line-number">14</div><div class="sublemon-line-number">15</div><div class="sublemon-line-number">16</div><div class="sublemon-line-number">17</div><div class="sublemon-line-number">18</div><div class="sublemon-line-number">19</div><div class="sublemon-line-number">20</div><div class="sublemon-line-number">21</div><div class="sublemon-line-number">22</div><div class="sublemon-line-number">23</div><div class="sublemon-line-number">24</div><div class="sublemon-line-number">25</div><div class="sublemon-line-number">26</div><div class="sublemon-line-number">27</div><div class="sublemon-line-number">28</div><div class="sublemon-line-number">29</div><div class="sublemon-line-number">30</div><div class="sublemon-line-number">31</div><div class="sublemon-line-number">32</div><div class="sublemon-line-number">33</div><div class="sublemon-line-number">34</div><div class="sublemon-line-number">35</div><div class="sublemon-line-number">36</div><div class="sublemon-line-number">37</div><div class="sublemon-line-number">38</div><div class="sublemon-line-number">39</div><div class="sublemon-line-number">40</div><div class="sublemon-line-number">41</div><div class="sublemon-line-number">42</div><div class="sublemon-line-number">43</div><div class="sublemon-line-number">44</div><div class="sublemon-line-number">45</div><div class="sublemon-line-number">46</div><div class="sublemon-line-number">47</div><div class="sublemon-line-number">48</div><div class="sublemon-line-number">49</div><div class="sublemon-line-number">50</div><div class="sublemon-line-number">51</div><div class="sublemon-line-number">52</div><div class="sublemon-line-number">53</div><div class="sublemon-line-number">54</div><div class="sublemon-line-number">55</div><div class="sublemon-line-number">56</div><div class="sublemon-line-number">57</div><div class="sublemon-line-number">58</div><div class="sublemon-line-number">59</div><div class="sublemon-line-number">60</div><div class="sublemon-line-number">61</div><div class="sublemon-line-number">62</div><div class="sublemon-line-number">63</div><div class="sublemon-line-number">64</div><div class="sublemon-line-number">65</div><div class="sublemon-line-number">66</div><div class="sublemon-line-number">67</div><div class="sublemon-line-number">68</div></div><div class="sublemon-code"><div class="sublemon-view-line"><span class="sublemon-macro">#TIMES 1</span>&#8203;</div><div class="sublemon-view-line">&#8203;<span class="sublemon-macro">#INTERVAL 3000</span>&#8203;</div><div class="sublemon-view-line">&#8203;</div><div class="sublemon-view-line">&#8203;<span class="sublemon-name">process</span> <span class="sublemon-name">main</span> <span class="sublemon-operator">{</span>&#8203;</div><div class="sublemon-view-line">    <span class="sublemon-name">jumpto</span> <span class="sublemon-string">'/#/register'</span><span class="sublemon-operator">;</span>&#8203;</div><div class="sublemon-view-line">    <span class="sublemon-name">wait</span> <span class="sublemon-number">2000</span><span class="sublemon-operator">;</span>&#8203;</div><div class="sublemon-view-line">    <span class="sublemon-line-comment">// There are 5 text boxes.</span>&#8203;</div><div class="sublemon-view-line">    <span class="sublemon-keyword">assert</span> <span class="sublemon-operator">&lt;#</span><span class="sublemon-string">'#userInfoFrom input'</span><span class="sublemon-operator">/&gt;</span> <span class="sublemon-operator">=</span><span class="sublemon-operator">=</span><span class="sublemon-operator">=</span> <span class="sublemon-number">5</span><span class="sublemon-operator">;</span>&#8203;</div><div class="sublemon-view-line">    <span class="sublemon-line-comment">// There is a captcha svg.</span>&#8203;</div><div class="sublemon-view-line">    <span class="sublemon-keyword">assert</span> <span class="sublemon-operator">&lt;!</span><span class="sublemon-string">"img.pull-right"</span><span class="sublemon-operator">/&gt;</span><span class="sublemon-operator">;</span>&#8203;</div><div class="sublemon-view-line">    <span class="sublemon-line-comment">// There is a login button.</span>&#8203;</div><div class="sublemon-view-line">    <span class="sublemon-keyword">assert</span> <span class="sublemon-operator">&lt;!</span><span class="sublemon-string">"#userInfoFrom &gt; button.btn"</span><span class="sublemon-operator">/&gt;</span><span class="sublemon-operator">;</span>&#8203;</div><div class="sublemon-view-line">    <span class="sublemon-line-comment">// There is a home button.</span>&#8203;</div><div class="sublemon-view-line">    <span class="sublemon-keyword">assert</span> <span class="sublemon-operator">&lt;@</span><span class="sublemon-string">"#global-back-button"</span><span class="sublemon-operator">/&gt;</span> <span class="sublemon-operator">~</span><span class="sublemon-operator">~</span> <span class="sublemon-string">'glyphicon-home'</span><span class="sublemon-operator">;</span>&#8203;</div><div class="sublemon-view-line">&#8203;</div><div class="sublemon-view-line">    <span class="sublemon-name">userNameRule</span> <span class="sublemon-operator">=</span> <span class="sublemon-string">"#name-rule &gt; div"</span><span class="sublemon-operator">;</span>&#8203;</div><div class="sublemon-view-line">&#8203;</div><div class="sublemon-view-line">    <span class="sublemon-line-comment">// Input username length &lt; 6</span>&#8203;</div><div class="sublemon-view-line">    <span class="sublemon-name">input</span> <span class="sublemon-string">"#account-name"</span> <span class="sublemon-name">by</span> <span class="sublemon-string">'12345'</span><span class="sublemon-operator">;</span>&#8203;</div><div class="sublemon-view-line">    <span class="sublemon-keyword">assert</span> <span class="sublemon-operator">&lt;@</span><span class="sublemon-name">userNameRule</span><span class="sublemon-operator">/&gt;</span> <span class="sublemon-operator">~</span><span class="sublemon-operator">~</span> <span class="sublemon-string">'不少于6个字符'</span><span class="sublemon-operator">;</span>&#8203;</div><div class="sublemon-view-line">&#8203;</div><div class="sublemon-view-line">    <span class="sublemon-line-comment">// Input username length &gt; 16</span>&#8203;</div><div class="sublemon-view-line">    <span class="sublemon-name">input</span> <span class="sublemon-string">"#account-name"</span> <span class="sublemon-name">by</span> <span class="sublemon-operator">/</span>\w{17}/;&#8203;</div><div class="sublemon-view-line">    <span class="sublemon-keyword">assert</span> <span class="sublemon-operator">&lt;@</span><span class="sublemon-name">userNameRule</span><span class="sublemon-operator">/&gt;</span> <span class="sublemon-operator">~</span><span class="sublemon-operator">~</span> <span class="sublemon-string">'不超过16个字符'</span><span class="sublemon-operator">;</span>&#8203;</div><div class="sublemon-view-line">&#8203;</div><div class="sublemon-view-line">    <span class="sublemon-line-comment">// Username is blank</span>&#8203;</div><div class="sublemon-view-line">    <span class="sublemon-name">input</span> <span class="sublemon-string">"#account-name"</span> <span class="sublemon-name">by</span> <span class="sublemon-string">''</span><span class="sublemon-operator">;</span>&#8203;</div><div class="sublemon-view-line">    <span class="sublemon-keyword">assert</span> <span class="sublemon-operator">&lt;@</span><span class="sublemon-name">userNameRule</span><span class="sublemon-operator">/&gt;</span> <span class="sublemon-operator">~</span><span class="sublemon-operator">~</span> <span class="sublemon-string">'用户名不为空'</span><span class="sublemon-operator">;</span>&#8203;</div><div class="sublemon-view-line">&#8203;</div><div class="sublemon-view-line">    <span class="sublemon-line-comment">// Username is repeat.</span>&#8203;</div><div class="sublemon-view-line">    <span class="sublemon-name">input</span> <span class="sublemon-string">"#account-name"</span> <span class="sublemon-name">by</span> <span class="sublemon-string">'active'</span><span class="sublemon-operator">;</span>&#8203;</div><div class="sublemon-view-line">    <span class="sublemon-name">click</span> <span class="sublemon-string">"#account-email"</span><span class="sublemon-operator">;</span>&#8203;</div><div class="sublemon-view-line">    <span class="sublemon-keyword">assert</span> <span class="sublemon-operator">&lt;!</span><span class="sublemon-string">"#name-repeat"</span><span class="sublemon-operator">/&gt;</span> <span class="sublemon-operator">&&</span> <span class="sublemon-operator">&lt;@</span><span class="sublemon-string">"#name-repeat"</span><span class="sublemon-operator">/&gt;</span> <span class="sublemon-operator">~</span><span class="sublemon-operator">~</span> <span class="sublemon-string">'用户名重复'</span> <span class="sublemon-keyword">in</span> <span class="sublemon-number">2000</span><span class="sublemon-operator">;</span>&#8203;</div><div class="sublemon-view-line">&#8203;</div><div class="sublemon-view-line">    <span class="sublemon-line-comment">// Blank email.</span>&#8203;</div><div class="sublemon-view-line">    <span class="sublemon-name">emailRule</span> <span class="sublemon-operator">=</span> <span class="sublemon-string">"#email-rule &gt; div"</span><span class="sublemon-operator">;</span>&#8203;</div><div class="sublemon-view-line">    <span class="sublemon-name">input</span> <span class="sublemon-string">"#account-email"</span> <span class="sublemon-name">by</span> <span class="sublemon-string">''</span><span class="sublemon-operator">;</span>&#8203;</div><div class="sublemon-view-line">    <span class="sublemon-keyword">assert</span> <span class="sublemon-operator">&lt;@</span><span class="sublemon-name">emailRule</span><span class="sublemon-operator">/&gt;</span> <span class="sublemon-operator">~</span><span class="sublemon-operator">~</span> <span class="sublemon-string">'邮箱不为空'</span><span class="sublemon-operator">;</span>&#8203;</div><div class="sublemon-view-line">&#8203;</div><div class="sublemon-view-line">    <span class="sublemon-line-comment">// Error email</span>&#8203;</div><div class="sublemon-view-line">    <span class="sublemon-name">input</span> <span class="sublemon-string">"#account-email"</span> <span class="sublemon-name">by</span> <span class="sublemon-string">'fdsf'</span><span class="sublemon-operator">;</span>&#8203;</div><div class="sublemon-view-line">    <span class="sublemon-keyword">assert</span> <span class="sublemon-operator">&lt;@</span><span class="sublemon-name">emailRule</span><span class="sublemon-operator">/&gt;</span> <span class="sublemon-operator">~</span><span class="sublemon-operator">~</span> <span class="sublemon-string">'请输入正确格式的邮箱'</span><span class="sublemon-operator">;</span>&#8203;</div><div class="sublemon-view-line">&#8203;</div><div class="sublemon-view-line">    <span class="sublemon-line-comment">// Repeat email</span>&#8203;</div><div class="sublemon-view-line">    <span class="sublemon-name">input</span> <span class="sublemon-string">"#account-email"</span> <span class="sublemon-name">by</span> <span class="sublemon-string">'lichao@or-change.cn'</span><span class="sublemon-operator">;</span>&#8203;</div><div class="sublemon-view-line">    <span class="sublemon-name">click</span> <span class="sublemon-string">"#account-password"</span><span class="sublemon-operator">;</span>&#8203;</div><div class="sublemon-view-line">    <span class="sublemon-keyword">assert</span> <span class="sublemon-operator">&lt;!</span><span class="sublemon-string">"#emial-repeat"</span><span class="sublemon-operator">/&gt;</span> <span class="sublemon-operator">&&</span> <span class="sublemon-operator">&lt;@</span><span class="sublemon-string">"#emial-repeat"</span><span class="sublemon-operator">/&gt;</span> <span class="sublemon-operator">~</span><span class="sublemon-operator">~</span> <span class="sublemon-string">'邮箱重复'</span> <span class="sublemon-keyword">in</span> <span class="sublemon-number">2000</span><span class="sublemon-operator">;</span>&#8203;</div><div class="sublemon-view-line">&#8203;</div><div class="sublemon-view-line">    <span class="sublemon-line-comment">// Input password length &lt; 8</span>&#8203;</div><div class="sublemon-view-line">    <span class="sublemon-name">input</span> <span class="sublemon-string">"#account-password"</span> <span class="sublemon-name">by</span> <span class="sublemon-operator">/</span>\w{1,7}/;&#8203;</div><div class="sublemon-view-line">    <span class="sublemon-keyword">assert</span> <span class="sublemon-operator">&lt;@</span><span class="sublemon-string">"#password-rule &gt; div"</span><span class="sublemon-operator">/&gt;</span> <span class="sublemon-operator">~</span><span class="sublemon-operator">~</span> <span class="sublemon-string">'不少于8个字符'</span><span class="sublemon-operator">;</span>&#8203;</div><div class="sublemon-view-line">    <span class="sublemon-line-comment">// Input password length &gt;20</span>&#8203;</div><div class="sublemon-view-line">    <span class="sublemon-name">input</span> <span class="sublemon-string">"#account-password"</span> <span class="sublemon-name">by</span> <span class="sublemon-operator">/</span>\w{20,}/;&#8203;</div><div class="sublemon-view-line">    <span class="sublemon-keyword">assert</span> <span class="sublemon-operator">&lt;@</span><span class="sublemon-string">"#password-rule &gt; div"</span><span class="sublemon-operator">/&gt;</span> <span class="sublemon-operator">~</span><span class="sublemon-operator">~</span> <span class="sublemon-string">'不超过20个字符'</span><span class="sublemon-operator">;</span>&#8203;</div><div class="sublemon-view-line">    <span class="sublemon-line-comment">// Blank password</span>&#8203;</div><div class="sublemon-view-line">    <span class="sublemon-name">input</span> <span class="sublemon-string">"#account-password"</span> <span class="sublemon-name">by</span> <span class="sublemon-string">' '</span><span class="sublemon-operator">;</span>&#8203;</div><div class="sublemon-view-line">    <span class="sublemon-keyword">assert</span> <span class="sublemon-operator">&lt;@</span><span class="sublemon-string">"#password-rule &gt; div"</span><span class="sublemon-operator">/&gt;</span> <span class="sublemon-operator">~</span><span class="sublemon-operator">~</span> <span class="sublemon-string">'密码不为空'</span><span class="sublemon-operator">;</span>&#8203;</div><div class="sublemon-view-line">    <span class="sublemon-line-comment">// Error char.</span>&#8203;</div><div class="sublemon-view-line">    <span class="sublemon-name">input</span> <span class="sublemon-string">"#account-password"</span> <span class="sublemon-name">by</span> <span class="sublemon-string">'测试测试测试测试'</span><span class="sublemon-operator">;</span>&#8203;</div><div class="sublemon-view-line">    <span class="sublemon-keyword">assert</span> <span class="sublemon-operator">&lt;@</span><span class="sublemon-string">"#password-rule &gt; div"</span><span class="sublemon-operator">/&gt;</span> <span class="sublemon-operator">~</span><span class="sublemon-operator">~</span> <span class="sublemon-string">'您输入了非法字符'</span><span class="sublemon-operator">;</span>&#8203;</div><div class="sublemon-view-line">&#8203;</div><div class="sublemon-view-line">    <span class="sublemon-line-comment">// Password !== Confirm</span>&#8203;</div><div class="sublemon-view-line">    <span class="sublemon-name">password</span> <span class="sublemon-operator">=</span> <span class="sublemon-regexp">/\w{10}/</span><span class="sublemon-operator">;</span>&#8203;</div><div class="sublemon-view-line">    <span class="sublemon-name">input</span> <span class="sublemon-string">"#account-password"</span> <span class="sublemon-name">by</span> <span class="sublemon-name">password</span><span class="sublemon-operator">;</span>&#8203;</div><div class="sublemon-view-line">    <span class="sublemon-name">input</span> <span class="sublemon-string">"#account-password-confirm"</span> <span class="sublemon-name">by</span> <span class="sublemon-name">password</span> <span class="sublemon-operator">+</span> <span class="sublemon-string">'a'</span><span class="sublemon-operator">;</span>&#8203;</div><div class="sublemon-view-line">    <span class="sublemon-keyword">assert</span> <span class="sublemon-operator">&lt;@</span><span class="sublemon-string">"#confirm-rule &gt; div"</span><span class="sublemon-operator">/&gt;</span> <span class="sublemon-operator">~</span><span class="sublemon-operator">~</span> <span class="sublemon-string">'两次输入不一致'</span><span class="sublemon-operator">;</span>&#8203;</div><div class="sublemon-view-line">&#8203;</div><div class="sublemon-view-line">&#8203;<span class="sublemon-operator">}</span></div></div></div></div>
</code></pre>

			</section>
		
	</section>

	<footer class="container-fluid text-xs-center bg-faded">
		<div class="row">
			<div class="col-md-4 col-xs-12 py-2">
				<a href="#" class="text-warning">官方网站</a>
			</div>
			<div class="col-md-4 col-xs-12 py-2">
				<a href="#" class="text-warning">github</a>
			</div>
			<div class="col-md-4 col-xs-12 py-2">
				<a href="/" class="text-warning">首页</a>
			</div>
		</div>
		<p>&copy; 2016 or-change</p>
	</footer>
	<script src="/script.js"></script>
</body>
</html>
